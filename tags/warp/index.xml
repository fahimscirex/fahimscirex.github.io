<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>WARP on Plugged Into Matrix</title><link>https://fahimscirex.github.io/tags/warp/</link><description>Recent content in WARP on Plugged Into Matrix</description><image><url>https://fahimscirex.github.io/47</url><link>https://fahimscirex.github.io/47</link></image><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sun, 28 Mar 2021 18:15:05 +0600</lastBuildDate><atom:link href="https://fahimscirex.github.io/tags/warp/index.xml" rel="self" type="application/rss+xml"/><item><title>Setup Warp on Linux and Get Unlimited Warp Plus Data</title><link>https://fahimscirex.github.io/bits/setup-cloudflare-warp/</link><pubDate>Sun, 28 Mar 2021 18:15:05 +0600</pubDate><guid>https://fahimscirex.github.io/bits/setup-cloudflare-warp/</guid><description>Using WARP you can encrypt your DNS requests as well as bypass blocked sites. Here&amp;#39;s how you can get unlimited WARP+ data and use that on Linux.</description><content:encoded><![CDATA[<blockquote>
<p><strong>Update : 23/10/2021</strong> &gt; As there&rsquo;s a official CLI out there, I&rsquo;m updating the post with instructions for that too.</p>
</blockquote>
<p>Cloudflare&rsquo;s Warp is a great service to re-route DNS query and bypass blocked website. <del>Though it has clients for Windows, Mac, Android, IOS it doesn&rsquo;t have a Warp client for Linux. Still we can use an unofficial client to get our work done.</del> It has clients for Windows, Mac, Linux, Android, IOS. You can use it in Linux through the official CLI client or with WGCF.</p>
<h2 id="method-1--warp-desktop-client">Method 1 : WARP Desktop Client</h2>
<p>Head over to <a href="https://pkg.cloudflareclient.com/install">this</a>
page and follow the instructions to setup repository for your distro.</p>
<h3 id="installation">Installation</h3>
<ul>
<li>Ubuntu  : <code>sudo apt install cloudflare-warp</code></li>
<li>RHEL/CentOS : <code>sudo yum install cloudflare-warp</code></li>
<li>Arch    : <code>yay -Syu cloudflare-warp-bin</code></li>
</ul>
<h3 id="register-and-connect">Register and Connect</h3>
<p>You have to register for the first time</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">warp-cli register
</code></pre></div><p>Now connect to WARP</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">warp-cli connect
</code></pre></div><p>Run <code>curl https://www.cloudflare.com/cdn-cgi/trace/</code> if the output shows <code>warp=on</code> you&rsquo;re successfully connected to WARP.</p>
<p>To disconnect from WARP</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">warp-cli disconnect
</code></pre></div><h3 id="enable-service">Enable Service</h3>
<p>You can enable WARP service if you don&rsquo;t want to enter password after every boot.</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">systemctl <span style="color:#81a1c1">enable</span> --now warp-svc
</code></pre></div><h3 id="always-stay-connected-to-warp">Always Stay Connected to WARP</h3>
<p>You may want to use WARP all the time. To do that run this command.</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">warp-cli enable-always-on
</code></pre></div><p>Or else it&rsquo;s not necessary.</p>
<p>To check all available commands run <code>warp-cli -h</code>.</p>
<h2 id="method-2--wgcf">Method 2 : WGCF</h2>
<p><a href="https://github.com/ViRb3/wgcf"><strong>WGCF</strong></a> is an unofficial, cross-platform CLI for Cloudflare Warp. It works with Wireguard. So before installing <strong>WGCF</strong> make sure you&rsquo;ve installed</p>
<ul>
<li>
<p><code>wireguard-tools</code></p>
</li>
<li>
<p><code>wireguard-dkms</code> (if you&rsquo;re using a Linux Kernel older than 5.6)</p>
</li>
<li>
<p><code>resolvconf</code> (as <a href="https://gitlab.com/fazlerabbi37/">@fazlerabbi</a> informed me that he couldn&rsquo;t find resolvconf preinstalled on some operating systems)</p>
</li>
</ul>
<blockquote>
<p>Note : You&rsquo;ve to restart your system if you install wireguard-dkms.</p>
</blockquote>
<p>You can install pre-compiled binary file from it&rsquo;s <a href="https://github.com/ViRb3/wgcf/releases">releases</a> or you can install it from AUR if you&rsquo;re using Arch derivatives.</p>
<h3 id="install-binary-package">Install binary package</h3>
<p>Download the package you need from release page. Then rename the file <code>wgcf</code>, make it executable and copy it to <code>/bin</code> directory.</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">chmod +x wgcf
sudo cp wgcf /bin
</code></pre></div><p>Or you can install from AUR if you use Arch</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">yay -S wgcf
</code></pre></div><p>Now we will create a Warp account</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wgcf register
</code></pre></div><p>And generate a Wireguard configuration using that account information</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wgcf generate
</code></pre></div><p>We&rsquo;ve to connect to Warp using that Wireguard configuration. It&rsquo;d be much easier if you put that configuration file in <code>/etc/wireguard</code></p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo cp wgcf-profile.conf /etc/wireguard
</code></pre></div><p>Let&rsquo;s connect now</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wg-quick up wgcf-profile
</code></pre></div><p>If you want to disconnect, run</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wg-quick down wgcf-profile
</code></pre></div><p>Probably you&rsquo;d like to run Warp every time when your system boots. You can do that with help of systemd</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">systemctl <span style="color:#81a1c1">enable</span> --now wireguard@wgcf-profile
</code></pre></div><h3 id="troubleshoot">Troubleshoot</h3>
<p>I&rsquo;m facing some issue frequently. For some unknown reason Wireguard can&rsquo;t connect through my generated configuration profile multiple times. I&rsquo;ve found a way out to resolve that. If you face the same issue you&rsquo;ve to delete the previous profiles and regenerate new one, except your account profile. To do that you can run this :</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo rm -rf wgcf-profile.conf <span style="color:#81a1c1">&amp;&amp;</span> wgcf generate <span style="color:#81a1c1">&amp;&amp;</span> sudo rm -rf /etc/wireguard/wgcf-profile.conf <span style="color:#81a1c1">&amp;&amp;</span> sudo cp wgcf-profile.conf /etc/wireguard
</code></pre></div><p>Now start the service again. If you want, you can set an alias for this or make a bash script for convenient usage.</p>
<h2 id="getting-warp-plus-data-for-free">Getting Warp Plus Data for Free</h2>
<p>There&rsquo;s a python script from <a href="https://github.com/ALIILAPRO/warp-plus-cloudflare">alilapro</a> to get free Warp Plus data. We can use that Warp Plus data in Linux also. But we need to get a Device ID to run that. To do that go to <code>wgcf-account.toml</code> and copy the <code>device id</code>. You can use that ID in alilapro script to get free Warp Plus data.</p>
<h3 id="link-your-warp-account-with-other-device-using-1111">Link your Warp account with other device using 1.1.1.1</h3>
<ul>
<li>
<p>Open 1.1.1.1 app. I&rsquo;m using Android here.</p>
</li>
<li>
<p>From hamburger menu go to <code>Account</code> &gt; <code>Key</code>. Copy the key and save it somewhere else we will need this.</p>
</li>
<li>
<p>Go to <code>Advanced</code> &gt; <code>Diagonistics</code> (optional)</p>
</li>
<li>
<p>Under <code>Client Configuration</code> you&rsquo;ll see a ID. Copy that and save it. (optional)</p>
</li>
</ul>
<p>Now we&rsquo;ve to put our license key into <code>wgcf-account.toml</code>. Open the toml file, replace the existing license key with yours and update your configuration profile using <code>wgcf update</code> and repeat the previous process.</p>
<div class="highlight"><pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wgcf update
sudo cp wgcf-profile.conf /etc/wireguard
</code></pre></div><p>Now you can use Device ID which you got from toml file or Configuration ID of your 1.1.1.1 in alilapro script.</p>
]]></content:encoded></item></channel></rss>